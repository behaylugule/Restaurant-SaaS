{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_e531dabc.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_e531dabc-module__QGiZLq__className\",\n  \"variable\": \"geist_e531dabc-module__QGiZLq__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_e531dabc.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist%22,%22arguments%22:[{%22variable%22:%22--font-geist-sans%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist', 'Geist Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,qJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,qJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,qJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_68a01160.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_mono_68a01160-module__YLcDdW__className\",\n  \"variable\": \"geist_mono_68a01160-module__YLcDdW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_68a01160.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist_Mono%22,%22arguments%22:[{%22variable%22:%22--font-geist-mono%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistMono%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist Mono', 'Geist Mono Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,0JAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,0JAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,0JAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/bookshelf/frontend/lib/axios.ts"],"sourcesContent":["import axios from 'axios'\nimport toast from 'react-hot-toast'\n\n\nconst apiBaseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api'\n\nconst api = axios.create({\n    baseURL:apiBaseUrl\n})\n\n\napi.interceptors.request.use(\n    (config)=>{\n        console.log(\"base URL\",apiBaseUrl)\n        if(typeof window !=='undefined'){\n            const token = localStorage.getItem('access')\n            if(token){\n                config.headers.Authorization = `Bearer ${token}`\n            }\n        }\n\n          // Ensure Content-Type is set for POST, PUT, PATCH requests\n        if (\n            config.method === 'post' ||\n            config.method === 'put' ||\n            config.method === 'patch'\n        ) {\n            if (!config.headers['Content-Type']) {\n                config.headers['Content-Type'] = 'application/json'\n            }\n        }\n        return config\n    },\n    (error)=>Promise.reject(error)\n)\n\napi.interceptors.response.use(\n    (response)=>response,\n    async (error)=>{\n        const originalRequest = error.config\n        if(error.response?.status===401 &&!originalRequest._retry){\n            originalRequest._retry = true;\n            try {\n                const refresh = localStorage.getItem('refresh')\n                const res = await axios.post(apiBaseUrl+'/token/refresh')\n                localStorage.setItem('access',res.data.access)\n                originalRequest.headers.Authorization = `Bearer ${res.data.access}`\n            } catch (error) {\n                localStorage.removeItem('access')\n                localStorage.removeItem('refresh')\n                window.location.href = '/login'\n            }\n        }\n        console.log(\"Error response:\", error.response)\n       toast.error(error.response.data.message || 'An error occurred')\n        return Promise.reject(error)\n    }\n)\n\nexport default api  "],"names":[],"mappings":";;;AAAA;AACA;;;AAGA,MAAM,aAAa,iEAAmC;AAEtD,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,SAAQ;AACZ;AAGA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,QAAQ,GAAG,CAAC,YAAW;IACvB;;IAOE,2DAA2D;IAC7D,IACI,OAAO,MAAM,KAAK,UAClB,OAAO,MAAM,KAAK,SAClB,OAAO,MAAM,KAAK,SACpB;QACE,IAAI,CAAC,OAAO,OAAO,CAAC,eAAe,EAAE;YACjC,OAAO,OAAO,CAAC,eAAe,GAAG;QACrC;IACJ;IACA,OAAO;AACX,GACA,CAAC,QAAQ,QAAQ,MAAM,CAAC;AAG5B,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAW,UACZ,OAAO;IACH,MAAM,kBAAkB,MAAM,MAAM;IACpC,IAAG,MAAM,QAAQ,EAAE,WAAS,OAAM,CAAC,gBAAgB,MAAM,EAAC;QACtD,gBAAgB,MAAM,GAAG;QACzB,IAAI;YACA,MAAM,UAAU,aAAa,OAAO,CAAC;YACrC,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,aAAW;YACxC,aAAa,OAAO,CAAC,UAAS,IAAI,IAAI,CAAC,MAAM;YAC7C,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE;QACvE,EAAE,OAAO,OAAO;YACZ,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B;IACJ;IACA,QAAQ,GAAG,CAAC,mBAAmB,MAAM,QAAQ;IAC9C,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI;IAC1C,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/bookshelf/frontend/lib/services/userService.ts"],"sourcesContent":["import axios  from '../axios';\nimport { User } from '@/type/user';\n\nexport const userService = {\n    registerUser,\n    login,\n    logout,\n    getCurrentUser\n}\n function registerUser (userData:any){\n    return  axios.post('/register/',userData)\n   \n}\n\nasync function login (data:{username:string , password:string}){\n    \n    return await axios.post('/token/',data)\n}\n\nasync function getCurrentUser(){\n    return await axios.get('/me/')\n}\n\n\nasync function logout(){\n    localStorage.removeItem('access')\n    localStorage.removeItem('refresh')\n    window.location.href = '/login'\n}\n\n"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM,cAAc;IACvB;IACA;IACA;IACA;AACJ;AACC,SAAS,aAAc,QAAY;IAChC,OAAQ,4GAAA,CAAA,UAAK,CAAC,IAAI,CAAC,cAAa;AAEpC;AAEA,eAAe,MAAO,IAAwC;IAE1D,OAAO,MAAM,4GAAA,CAAA,UAAK,CAAC,IAAI,CAAC,WAAU;AACtC;AAEA,eAAe;IACX,OAAO,MAAM,4GAAA,CAAA,UAAK,CAAC,GAAG,CAAC;AAC3B;AAGA,eAAe;IACX,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AAC3B","debugId":null}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/bookshelf/frontend/components/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState,useEffect} from 'react';\nimport { userService } from '@/lib/services/userService';\n\ninterface AuthContextProps {\n    user:any,\n    accessToken:string | null,\n    isAuthenticated: boolean,\n    login:(token:string)=> void,\n    logout:()=> void, \n}\n\n\nconst AuthContext = createContext<AuthContextProps | undefined>(undefined)\n\nexport const AuthProvider = ({ children}:{children:React.ReactNode})=>{\n    const [accessToken, setAccessToken] = useState<string | null>(null)\n    const [user, setUser] = useState<any>(null)\n     \n    useEffect(()=>{\nconst token = localStorage.getItem('access')\nif(token){\n    setAccessToken(token)\n   userService.getCurrentUser().then(response=>{\n        setUser(response.data)\n    }).catch(error=>{\n        console.error('Failed to fetch current user:', error)\n        setUser(null)\n    })      \n}\n    },[])\n\n    const login = (token:string)=>{\n        setAccessToken(token)\n        userService.getCurrentUser().then(response=>{\n            setUser(response.data)\n        }).catch(error=>{\n            console.error('failed to fetch current user')\n        })\n    }\n\n    const logout = ()=>{\n      localStorage.removeItem('access')\n      setAccessToken(null)\n      setUser(null)\n    }\n\n\n    const isAuthenticated = !!accessToken\n\n    return (\n        <AuthContext.Provider value={{ user, accessToken, isAuthenticated, login, logout}}>\n            {children}\n        </AuthContext.Provider>\n    )\n}\n\nexport const useAuth = ()=>{\n    const context = useContext(AuthContext)\n    if(context == undefined){\n        throw new Error('useAuth must be used within an Authprovider')\n\n    }\n    return context\n}\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAWA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAEzD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA4B;IAC/D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAEtC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACd,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAG,OAAM;YACL,eAAe;YAChB,8HAAA,CAAA,cAAW,CAAC,cAAc,GAAG,IAAI,CAAC,CAAA;gBAC7B,QAAQ,SAAS,IAAI;YACzB,GAAG,KAAK,CAAC,CAAA;gBACL,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,QAAQ;YACZ;QACJ;IACI,GAAE,EAAE;IAEJ,MAAM,QAAQ,CAAC;QACX,eAAe;QACf,8HAAA,CAAA,cAAW,CAAC,cAAc,GAAG,IAAI,CAAC,CAAA;YAC9B,QAAQ,SAAS,IAAI;QACzB,GAAG,KAAK,CAAC,CAAA;YACL,QAAQ,KAAK,CAAC;QAClB;IACJ;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,eAAe;QACf,QAAQ;IACV;IAGA,MAAM,kBAAkB,CAAC,CAAC;IAE1B,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAa;YAAiB;YAAO;QAAM;kBAC3E;;;;;;AAGb;AAEO,MAAM,UAAU;IACnB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAG,WAAW,WAAU;QACpB,MAAM,IAAI,MAAM;IAEpB;IACA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/bookshelf/frontend/app/layout.tsx"],"sourcesContent":["import type { Metadata } from \"next\";\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport { Toaster } from \"react-hot-toast\";\nimport \"./globals.css\";\nimport { AuthProvider } from \"@/components/AuthContext\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: \"Book Shalf\",\n  description: \"Book Shalf\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n        <AuthProvider>\n        <Toaster position=\"top-right\" reverseOrder={false} />\"\n        {children}\n        </AuthProvider>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;;;;;AAYO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;YACC,WAAW,GAAG,yIAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,8IAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;sBAEpE,cAAA,8OAAC,0HAAA,CAAA,eAAY;;kCACb,8OAAC,uJAAA,CAAA,UAAO;wBAAC,UAAS;wBAAY,cAAc;;;;;;oBAAS;oBACpD;;;;;;;;;;;;;;;;;AAKT","debugId":null}}]
}