{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/restaurantSaaS/frontend/hook/usePagination.ts"],"sourcesContent":["import { useState, useMemo } from 'react';\n\nexport function usePagination() {\n    // Define available page sizes\n    const page_sizes = [10, 20, 30, 40, 50];\n\n    // State for current page, initialized to 1\n    const [page, setPage] = useState(1);\n    const [search,setSearch] = useState('')\n    // State for total count of items, initialized to 0\n    const [totalCount, setTotalCount] = useState(0);\n    // State for the number of items per page, initialized to 2\n    const [pageSize, setPageSize] = useState(page_sizes[0] || 10); // Default to the first page size or 10\n\n    // Calculate total pages dynamically\n    const totalPages = useMemo(() => {\n        if (pageSize === 0) return 0; // Avoid division by zero\n        return Math.ceil(totalCount / pageSize);\n    }, [totalCount, pageSize]);\n\n    // Handles moving to the next page\n    const handleNextPage = () => {\n        // Only proceed if the current page is less than the total number of pages\n        if (page < totalPages) {\n            setPage(prevPage => prevPage + 1);\n        }\n    };\n\n    // Handles moving to the previous page\n    const handlePrevPage = () => {\n        // Only proceed if the current page is greater than 1\n        if (page > 1) {\n            setPage(prevPage => prevPage - 1);\n        }\n    };\n\n    return {\n        page,\n        totalCount,\n        setPage,\n        setTotalCount,\n        handleNextPage,\n        handlePrevPage,\n        page_sizes,\n        pageSize, // Renamed to pageSize for consistency\n        setPageSize,\n        totalPages, // Expose totalPages for convenience\n        search,\n        setSearch\n    };\n}"],"names":[],"mappings":";;;AAAA;;;AAEO,SAAS;;IACZ,8BAA8B;IAC9B,MAAM,aAAa;QAAC;QAAI;QAAI;QAAI;QAAI;KAAG;IAEvC,2CAA2C;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,QAAO,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACpC,mDAAmD;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,2DAA2D;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,UAAU,CAAC,EAAE,IAAI,KAAK,uCAAuC;IAEtG,oCAAoC;IACpC,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;6CAAE;YACvB,IAAI,aAAa,GAAG,OAAO,GAAG,yBAAyB;YACvD,OAAO,KAAK,IAAI,CAAC,aAAa;QAClC;4CAAG;QAAC;QAAY;KAAS;IAEzB,kCAAkC;IAClC,MAAM,iBAAiB;QACnB,0EAA0E;QAC1E,IAAI,OAAO,YAAY;YACnB,QAAQ,CAAA,WAAY,WAAW;QACnC;IACJ;IAEA,sCAAsC;IACtC,MAAM,iBAAiB;QACnB,qDAAqD;QACrD,IAAI,OAAO,GAAG;YACV,QAAQ,CAAA,WAAY,WAAW;QACnC;IACJ;IAEA,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ;GAhDgB","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/restaurantSaaS/frontend/lib/services/chatService.ts"],"sourcesContent":["import axios from '../axios'\n\n\nexport const chatService =  {\n  getMessages,\n  getChatRooms\n}\n\nasync function getMessages(data:{page:number,page_size?:number,search?:string, shop_id:string}){\n    return axios.get('/messages/',{params:{\n        ...data\n    }})\n}\n\nasync function getChatRooms(data:{page:number,page_size?:number, search?:string,shop_id?:string}){\n  return axios.get('/chat-rooms/',{\n    params:{\n      ...data\n    }\n  })\n}"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM,cAAe;IAC1B;IACA;AACF;AAEA,eAAe,YAAY,IAAmE;IAC1F,OAAO,+GAAA,CAAA,UAAK,CAAC,GAAG,CAAC,cAAa;QAAC,QAAO;YAClC,GAAG,IAAI;QACX;IAAC;AACL;AAEA,eAAe,aAAa,IAAoE;IAC9F,OAAO,+GAAA,CAAA,UAAK,CAAC,GAAG,CAAC,gBAAe;QAC9B,QAAO;YACL,GAAG,IAAI;QACT;IACF;AACF","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/restaurantSaaS/frontend/components/Chat/ChatRoom.tsx"],"sourcesContent":["\"use client\";\n\nimport { usePagination } from \"@/hook/usePagination\";\nimport { chatService } from \"@/lib/services/chatService\";\nimport { ChatRoomType } from \"@/type/message.model\";\nimport { UserCheck2Icon } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\n\nexport default function ChatRoom() {\n  const pagination = usePagination();\n  const [chatRoomData, setChatRoomData] = useState<ChatRoomType[]>([]);\n  const getRooms = () => {\n    chatService\n      .getChatRooms({\n        page: pagination.page,\n        page_size: pagination.pageSize,\n        search: pagination.search,\n      })\n      .then((res) => {\n        console.log(res.data);\n        setChatRoomData(res.data.data.results);\n        pagination.setTotalCount(res.data.data.results);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    getRooms();\n  }, []);\n  return (\n    <div className=\"flex flex-col items-start\">\n      <div>\n        <h1 className=\"text-gray-700 font-semibold\">Customers</h1>\n      </div>\n      <div className=\"flex flex-col items-center ml-2 mt-4\">\n        {chatRoomData.map((data, index) => {\n          return (\n            <div className=\"flex items-center justify-between\" key={index}>\n              <div className=\"\">\n                <span className=\"w-20 h-20 border-2 border-gray-600  rounded-full\">\n                  {/* <UserCheck2Icon size={20} /> */}\n                </span>\n              </div>\n              {data.client_name}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAGA;;;AANA;;;;AAQe,SAAS;;IACtB,MAAM,aAAa,CAAA,GAAA,wHAAA,CAAA,gBAAa,AAAD;IAC/B,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACnE,MAAM,WAAW;QACf,iIAAA,CAAA,cAAW,CACR,YAAY,CAAC;YACZ,MAAM,WAAW,IAAI;YACrB,WAAW,WAAW,QAAQ;YAC9B,QAAQ,WAAW,MAAM;QAC3B,GACC,IAAI,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC,IAAI,IAAI;YACpB,gBAAgB,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO;YACrC,WAAW,aAAa,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO;QAChD,GACC,KAAK,CAAC,CAAC;YACN,QAAQ,GAAG,CAAC;QACd;IACJ;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR;QACF;6BAAG,EAAE;IACL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;0BACC,cAAA,6LAAC;oBAAG,WAAU;8BAA8B;;;;;;;;;;;0BAE9C,6LAAC;gBAAI,WAAU;0BACZ,aAAa,GAAG,CAAC,CAAC,MAAM;oBACvB,qBACE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;;;;;;;;;;;4BAIjB,KAAK,WAAW;;uBANqC;;;;;gBAS5D;;;;;;;;;;;;AAIR;GA5CwB;;QACH,wHAAA,CAAA,gBAAa;;;KADV","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/restaurantSaaS/frontend/components/Chat/MessageList.tsx"],"sourcesContent":["export default function MessageList() {\n  return <>MessageList</>;\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACtB,qBAAO;kBAAE;;AACX;KAFwB","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///home/behaylu/Documents/project/upwork/postwork/restaurantSaaS/frontend/app/dashboard/chats/page.tsx"],"sourcesContent":["\"use client\";\nimport { useAuth } from \"@/components/AuthContext\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nimport { usePagination } from \"@/hook/usePagination\";\nimport ChatRoom from \"@/components/Chat/ChatRoom\";\nimport MessageList from \"@/components/Chat/MessageList\";\n\nexport default function Page() {\n  const { isAuthenticated } = useAuth();\n  const router = useRouter();\n\n  const pagination = usePagination();\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.push(\"/login\");\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {}, [pagination.page, pagination.search]);\n\n  return (\n    <div className=\"w-full \">\n      <div className=\"flex justify-between items-center px-2 lg:px-12 py-4\">\n        <h1 className=\"text-[30px] text-gray-700 font-medium\">Chats</h1>\n      </div>\n      <div className=\"w-full flex items-center justify-center h-full\">\n        <div className=\"flex items-start justify-center min-w-4xl max-w-4xl bg-white min-h-96 rounded-lg px-5 py-8\">\n          <div className=\"flex-1/4\">\n            <ChatRoom />\n          </div>\n          <div className=\"flex-3/4\">\n            <MessageList />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,UAAO,AAAD;IAClC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,aAAa,CAAA,GAAA,wHAAA,CAAA,gBAAa,AAAD;IAE/B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,IAAI,CAAC,iBAAiB;gBACpB,OAAO,IAAI,CAAC;YACd;QACF;yBAAG;QAAC;KAAgB;IAEpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE,KAAO;yBAAG;QAAC,WAAW,IAAI;QAAE,WAAW,MAAM;KAAC;IAExD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAwC;;;;;;;;;;;0BAExD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,kIAAA,CAAA,UAAQ;;;;;;;;;;sCAEX,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,qIAAA,CAAA,UAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxB;GA/BwB;;QACM,6HAAA,CAAA,UAAO;QACpB,qIAAA,CAAA,YAAS;QAEL,wHAAA,CAAA,gBAAa;;;KAJV","debugId":null}}]
}